<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Rock Paper Scissors Game</title>
</head>
<body>
    <script>
        // Create a function that determines the computers selection
            // The computers choice needs to be purely random to make the game unpredictable
                // use Math.random() for this and cap it at only three possible numbers
                // Need to get a  way to select a random number that is assigned the names of either rock, paper or scissors
                // get the computers choice by allocating a random number to a definite choice

        function getComputerChoice() {
            let computerSelection = '';
            let randomChoiceNumber = Math.floor(Math.random()*3 + 1);
            if (randomChoiceNumber === 1) {
                computerSelection = "Rock";
            } else if (randomChoiceNumber === 2) {
                computerSelection = "Paper";
            } else if (randomChoiceNumber === 3) {
                computerSelection = "Scissors";
            } else {
                console.log('An error has occurred')
            }
            return computerSelection
        }


        // Creating a winner only when the player's selection matches the computers selection
            // You need to get the player's selection.
            // convert the player's selection and the computer's selection to lowercase/uppercase for comparability
            // compare both the selections to give a true/false value
            // Output You win message if the result is true and you loose message if the result is false
            // rock > scissors
            // scissors > paper
            // paper > rock

        function playRound(playerSelection, computerSelection) {
            if (playerSelection == computerSelection.toLowerCase()) {
                return "It's a tie! Play again!";
            } else if (playerSelection === "rock") {
                if (computerSelection === "Scissors") {
                    return 'You win! Rock beats scissors';
                } else {
                    return 'You loose! Paper beats rock';
                }
            } else if (playerSelection === "paper") {
                if (computerSelection === "Scissors") {
                    return 'You loose! Scissors beats paper';
                } else {
                    return 'You win! Paper beats rock';
                }
            } else if (playerSelection === "scissors"){
                if (computerSelection === "Rock") {
                    return 'You loose! Rock beats scissors';
                } else {
                    return 'You win! Scissors beats Paper';
                }
            } else {
                return 'Please select a valid option between "Rock", "Paper" or "Scissors"';
            }
        }

        const computerSelection = getComputerChoice();

            // setting the number of wins for the computer and the player
                // The player can only win if the number of wins is greater than the computer wins
                // declare a starting value of wins for the comp and the player
            let playerWins = 0;
            let computerWins = 0;
            let numberOfTies = 0;

            for(let i = 0; i < resultArr.length; i++) {
                let winRgx = /win/g
                let looseRgx = /loose/g
                if(winRgx.test(resultArr[i])) {
                    playerWins += 1
                } else if (looseRgx.test(resultArr[i])) {
                    computerWins += 1
                } else {
                    numberOfTies += 1
                }
            }

            // establishing the winner
            if(playerWins > computerWins) {
                return `You WIN!! Score: Player(${playerWins}) :: Computer(${computerWins}) :: Number of Draws(${numberOfTies})`
            } else if(playerWins < computerWins) {
                return `The Computer WINS!! Scores: Computer(${computerWins}) :: Player(${playerWins}) :: Number of Draws(${numberOfTies})`
            } else if (playerWins === computerWins && playerWins > 0) {
                return `It's a DRAW!! Scores: Number of Draws(${numberOfTies}) :: Computer(${computerWins}) :: Player(${playerWins})`
            } else {
                return `An Error must have occurred`
            }

        
        console.log(game());

    </script>
</body>
</html>